<div data-sly-use.templates="core/wcm/components/commons/v1/templates.html"></div>
<sly data-sly-call="${templates.placeholder @ isEmpty=!hasContent, classAppend='Secure Information'}"></sly>
<sly data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html"
     data-sly-call="${clientlib.css @ categories = 'csvfdcvdfile'}"/>
<div data-sly-use.model="com.smartstore.core.models.SecureInfoModel">
    <sly data-sly-test.var="${model.heading}">
        <div data-sly-test="${var != ''}">
            <div class="borderLine">
                <div class="heading">${model.heading}</div>
                <div class="content">${model.content}</div>
                <button class="buttonClass" onclick="downloadCSV()">${model.button}</button>
                    <button class="button-59" role="button">Logout</button>

            </div>
        </div>
    </sly>
</div>

<style>
  .borderLine {
     outline-style: double;
    position: relative;
    height: 500px;
    left: 280px;
    width: 848px;
        bottom: 150px;
  }
  .buttonClass {
 background-color: #c2fbd7;
     border-radius: 100px;
     box-shadow: rgba(44, 187, 99, .2) 0 -25px 18px -14px inset, rgba(44, 187, 99, .15) 0 1px 2px, rgba(44, 187, 99, .15) 0 2px 4px, rgba(44, 187, 99, .15) 0 4px 8px, rgba(44, 187, 99, .15) 0 8px 16px, rgba(44, 187, 99, .15) 0 16px 32px;
     color: green;
     cursor: pointer;
     position: relative;
       left: 264px;
        top: 260px;
     display: inline-block;
     font-family: CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;
     padding: 16px 6.8em;
     text-align: center;
     text-decoration: none;
     transition: all 250ms;
     border: 0;
     font-size: 14px;
     user-select: none;
     -webkit-user-select: none;
     touch-action: manipulation;
}

.buttonClass:hover {
  box-shadow: rgba(44,187,99,.35) 0 -25px 18px -14px inset,rgba(44,187,99,.25) 0 1px 2px,rgba(44,187,99,.25) 0 2px 4px,rgba(44,187,99,.25) 0 4px 8px,rgba(44,187,99,.25) 0 8px 16px,rgba(44,187,99,.25) 0 16px 32px;
  transform: scale(1.05) rotate(-1deg);
}

.heading{
text-align: center;
    font-size: 35px;
    font-family: serif;
    text-transform: uppercase;
    color: #27b22a;
        top: 10px;
    position: relative;
}
.content{
    width: 813px;
    position: relative;
    left: 15px;
    top: 90px;
    font-size: 20px;
    text-align: center;
    }

/* CSS */
.button-59 {
  align-items: center;
    /* background-color: #fff; */
    border: 1px solid #000;
    box-sizing: border-box;
    color: #000;
    position: relative;
    bottom: 151px;
   left: 386px;
    cursor: pointer;
    display: inline-flex;
    fill: #000;
    font-family: Inter,sans-serif;
    font-size: 17px;
    font-weight: 600;
    height: 50px;
    justify-content: center;
    /* letter-spacing: -.8px; */
    /* line-height: 24px; */
    min-width: 140px;
    outline: 0;
    padding: 10px 28px;
    text-align: center;
    text-decoration: none;
    transition: all .3s;
    user-select: none;
    -webkit-user-select: none;
    touch-action: manipulation;

}

.button-59:focus {
  color: #171e29;
}

.button-59:hover {
  border-color: red;
  color: red;
  fill: red;
}

.button-59:active {
  border-color: red;
  color: red;
  fill: red;
}
</style>

<script>
        function downloadCSV() {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/smartstore/generate/excel", true);
            xhr.responseType = "blob";
            xhr.onload = function () {
                if (xhr.status === 200) {
                    var blob = new Blob([xhr.response], { type: "text/csv" });
                    var url = URL.createObjectURL(blob);
                    var a = document.createElement("a");
                    a.href = url;
                    a.download = "SmartStore_Members-List.csv";
                    a.click();
                    URL.revokeObjectURL(url);
                }
            };
            xhr.send();
        }

    </script>